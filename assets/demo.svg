<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 700" font-family="SF Mono, Menlo, Consolas, Liberation Mono, monospace" font-size="12.5">
  <defs>
    <linearGradient id="termBg" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#0a0e14"/>
      <stop offset="100%" stop-color="#0d1117"/>
    </linearGradient>
    <linearGradient id="headerBg" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#1a1e24"/>
      <stop offset="100%" stop-color="#161a20"/>
    </linearGradient>
    <filter id="shadow">
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-opacity="0.5"/>
    </filter>
  </defs>

  <!-- Terminal window -->
  <rect x="20" y="20" width="860" height="660" rx="10" ry="10" fill="url(#termBg)" filter="url(#shadow)" stroke="#2a2e34" stroke-width="1"/>

  <!-- Title bar -->
  <rect x="20" y="20" width="860" height="36" rx="10" ry="10" fill="url(#headerBg)"/>
  <rect x="20" y="46" width="860" height="10" fill="url(#headerBg)"/>

  <!-- Traffic lights -->
  <circle cx="44" cy="38" r="6" fill="#ff6188"/>
  <circle cx="64" cy="38" r="6" fill="#ffd866"/>
  <circle cx="84" cy="38" r="6" fill="#a9dc76"/>

  <!-- Terminal title -->
  <text x="450" y="43" fill="#5c6370" text-anchor="middle" font-size="12">chasm — Terminal</text>

  <g>
    <!-- ==================== SCENE 1: Session Recovery ==================== -->
    <g>
      <animate attributeName="opacity" values="0;1;1;0;0;0;0;0;0" dur="24s" repeatCount="indefinite" keyTimes="0;0.02;0.30;0.33;0.34;0.50;0.67;0.84;1"/>

      <!-- Command -->
      <text x="40" y="90" fill="#82aaff">❯</text>
      <text x="60" y="90" fill="#b3b1ad">chasm fetch path ~/dev/my-awesome-project</text>

      <!-- Fetch output -->
      <text x="40" y="120" fill="#82aaff">[&lt;]</text>
      <text x="75" y="120" fill="#b3b1ad">Fetching Chat History for:</text>
      <text x="295" y="120" fill="#a9dc76">my-awesome-project</text>

      <text x="40" y="140" fill="#5c6370">════════════════════════════════════════════════════════════════════════</text>

      <text x="40" y="165" fill="#b3b1ad">Found</text>
      <text x="85" y="165" fill="#fc9867">3</text>
      <text x="100" y="165" fill="#b3b1ad">historical workspace(s)</text>

      <text x="55" y="195" fill="#a9dc76">[OK]</text>
      <text x="100" y="195" fill="#b3b1ad">Fetched: Implementing authentication system...</text>
      <text x="475" y="195" fill="#5c6370">(abc12345-...)</text>

      <text x="55" y="215" fill="#a9dc76">[OK]</text>
      <text x="100" y="215" fill="#b3b1ad">Fetched: Debugging API endpoints...</text>
      <text x="390" y="215" fill="#5c6370">(def67890-...)</text>

      <text x="55" y="235" fill="#a9dc76">[OK]</text>
      <text x="100" y="235" fill="#b3b1ad">Fetched: Setting up CI/CD pipeline...</text>
      <text x="400" y="235" fill="#5c6370">(ghi11223-...)</text>

      <text x="40" y="260" fill="#5c6370">════════════════════════════════════════════════════════════════════════</text>

      <text x="40" y="285" fill="#ab9df2">Fetched:</text>
      <text x="115" y="285" fill="#fc9867">3</text>
      <text x="130" y="285" fill="#b3b1ad">sessions</text>

      <text x="40" y="315" fill="#78dce8">[i]</text>
      <text x="70" y="315" fill="#b3b1ad">Reload VS Code (Ctrl+R) and check Chat history dropdown</text>

      <!-- Second command: detect orphaned -->
      <text x="40" y="365" fill="#82aaff">❯</text>
      <text x="60" y="365" fill="#b3b1ad">chasm detect orphaned --recover ~/dev/my-awesome-project</text>

      <text x="40" y="395" fill="#82aaff">[*]</text>
      <text x="70" y="395" fill="#b3b1ad">Scanning for orphaned sessions...</text>

      <text x="55" y="425" fill="#a9dc76">[+]</text>
      <text x="95" y="425" fill="#b3b1ad">Found orphan:</text>
      <text x="215" y="425" fill="#5c6370">ba4f92e1-...</text>
      <text x="330" y="425" fill="#b3b1ad">"Refactoring database layer"</text>

      <text x="55" y="445" fill="#a9dc76">[+]</text>
      <text x="95" y="445" fill="#b3b1ad">Found orphan:</text>
      <text x="215" y="445" fill="#5c6370">c87d31a0-...</text>
      <text x="330" y="445" fill="#b3b1ad">"WebSocket client handler"</text>

      <text x="40" y="475" fill="#a9dc76">[OK]</text>
      <text x="85" y="475" fill="#b3b1ad">Recovered</text>
      <text x="175" y="475" fill="#fc9867">2</text>
      <text x="190" y="475" fill="#b3b1ad">orphaned sessions</text>

      <!-- Next prompt -->
      <text x="40" y="520" fill="#82aaff">❯</text>
      <rect x="60" y="507" width="10" height="16" fill="#82aaff" opacity="0.7">
        <animate attributeName="opacity" values="0.7;0;0.7" dur="1.2s" repeatCount="indefinite"/>
      </rect>
    </g>

    <!-- ==================== SCENE 2: Run &amp; Record ==================== -->
    <g>
      <animate attributeName="opacity" values="0;0;0;0;1;1;0;0;0" dur="24s" repeatCount="indefinite" keyTimes="0;0.30;0.33;0.36;0.37;0.63;0.66;0.67;1"/>

      <!-- Command -->
      <text x="40" y="90" fill="#82aaff">❯</text>
      <text x="60" y="90" fill="#b3b1ad">chasm run ollama -m codellama</text>

      <!-- Connection info -->
      <text x="40" y="120" fill="#a9dc76">[*]</text>
      <text x="70" y="120" fill="#b3b1ad">Connected to</text>
      <text x="178" y="120" fill="#78dce8">Ollama</text>
      <text x="230" y="120" fill="#5c6370">(codellama)</text>

      <text x="40" y="140" fill="#a9dc76">[*]</text>
      <text x="70" y="140" fill="#b3b1ad">Recording to:</text>
      <text x="185" y="140" fill="#78dce8">~/.local/share/csm/chat_sessions.db</text>

      <text x="40" y="160" fill="#5c6370">════════════════════════════════════════════════════════════════════════</text>

      <!-- User message -->
      <text x="40" y="190" fill="#82aaff" font-weight="bold">You:</text>
      <text x="85" y="190" fill="#b3b1ad">How do I implement retry with exponential backoff in Rust?</text>

      <!-- AI Response -->
      <text x="40" y="225" fill="#a9dc76" font-weight="bold">codellama:</text>

      <text x="40" y="250" fill="#b3b1ad">Use a loop with increasing delays. Start with a base delay</text>
      <text x="40" y="268" fill="#b3b1ad">(e.g., 100ms), then double it after each failure:</text>

      <text x="60" y="298" fill="#78dce8">1.</text>
      <text x="85" y="298" fill="#b3b1ad">Attempt the operation</text>
      <text x="60" y="318" fill="#78dce8">2.</text>
      <text x="85" y="318" fill="#b3b1ad">On failure, sleep for base_delay × 2^attempt</text>
      <text x="60" y="338" fill="#78dce8">3.</text>
      <text x="85" y="338" fill="#b3b1ad">Retry until max_retries reached</text>

      <text x="40" y="368" fill="#b3b1ad">The</text>
      <text x="70" y="368" fill="#fc9867">tokio::time::sleep()</text>
      <text x="250" y="368" fill="#b3b1ad">function works well for async contexts.</text>

      <text x="40" y="398" fill="#5c6370">════════════════════════════════════════════════════════════════════════</text>

      <!-- Auto-save notice -->
      <text x="40" y="425" fill="#a9dc76">[●]</text>
      <text x="70" y="425" fill="#b3b1ad">Auto-saved:</text>
      <text x="170" y="425" fill="#fc9867">1</text>
      <text x="185" y="425" fill="#b3b1ad">exchange,</text>
      <text x="255" y="425" fill="#fc9867">2</text>
      <text x="270" y="425" fill="#b3b1ad">messages</text>
      <text x="345" y="425" fill="#5c6370">(session f7a2b1c9-...)</text>

      <!-- Second command: run claude -->
      <text x="40" y="470" fill="#82aaff">❯</text>
      <text x="60" y="470" fill="#b3b1ad">chasm run claude -m claude-3-haiku</text>

      <text x="40" y="500" fill="#a9dc76">[*]</text>
      <text x="70" y="500" fill="#b3b1ad">Connected to</text>
      <text x="178" y="500" fill="#78dce8">Anthropic</text>
      <text x="258" y="500" fill="#5c6370">(claude-3-haiku)</text>

      <text x="40" y="520" fill="#a9dc76">[*]</text>
      <text x="70" y="520" fill="#b3b1ad">Recording to:</text>
      <text x="185" y="520" fill="#78dce8">~/.local/share/csm/chat_sessions.db</text>

      <text x="40" y="540" fill="#5c6370">════════════════════════════════════════════════════════════════════════</text>

      <!-- Cursor waiting for input -->
      <text x="40" y="570" fill="#82aaff" font-weight="bold">You:</text>
      <rect x="80" y="557" width="10" height="16" fill="#82aaff" opacity="0.7">
        <animate attributeName="opacity" values="0.7;0;0.7" dur="1.2s" repeatCount="indefinite"/>
      </rect>
    </g>

    <!-- ==================== SCENE 3: Harvest &amp; Search ==================== -->
    <g>
      <animate attributeName="opacity" values="0;0;0;0;0;0;0;1;1" dur="24s" repeatCount="indefinite" keyTimes="0;0.30;0.33;0.50;0.63;0.66;0.69;0.70;1"/>

      <!-- Command -->
      <text x="40" y="90" fill="#82aaff">❯</text>
      <text x="60" y="90" fill="#b3b1ad">chasm harvest scan</text>

      <!-- Scan output -->
      <text x="40" y="118" fill="#ab9df2" font-weight="bold">[*]</text>
      <text x="70" y="118" fill="#b3b1ad">Scanning providers...</text>

      <text x="55" y="143" fill="#a9dc76">[+]</text>
      <text x="95" y="143" fill="#b3b1ad" font-weight="bold">GitHub Copilot:</text>
      <text x="250" y="143" fill="#a9dc76">available</text>
      <text x="340" y="143" fill="#5c6370">(56 sessions across 24 workspaces)</text>

      <text x="55" y="163" fill="#a9dc76">[+]</text>
      <text x="95" y="163" fill="#b3b1ad" font-weight="bold">Ollama:</text>
      <text x="170" y="163" fill="#a9dc76">available</text>
      <text x="260" y="163" fill="#5c6370">(~/.ollama)</text>

      <text x="55" y="183" fill="#a9dc76">[+]</text>
      <text x="95" y="183" fill="#b3b1ad" font-weight="bold">Cursor:</text>
      <text x="170" y="183" fill="#a9dc76">available</text>
      <text x="260" y="183" fill="#5c6370">(12 sessions)</text>

      <text x="55" y="203" fill="#5c6370">[-]</text>
      <text x="95" y="203" fill="#5c6370">LM Studio:</text>
      <text x="195" y="203" fill="#5c6370">not found</text>

      <text x="40" y="233" fill="#82aaff">[*]</text>
      <text x="70" y="233" fill="#b3b1ad">VS Code Workspaces:</text>
      <text x="245" y="233" fill="#fc9867">162</text>
      <text x="275" y="233" fill="#b3b1ad">workspaces,</text>
      <text x="365" y="233" fill="#fc9867">267</text>
      <text x="395" y="233" fill="#b3b1ad">total sessions</text>

      <!-- Second command: harvest search -->
      <text x="40" y="280" fill="#82aaff">❯</text>
      <text x="60" y="280" fill="#b3b1ad">chasm harvest search "authentication"</text>

      <text x="40" y="310" fill="#ab9df2">[Q]</text>
      <text x="70" y="310" fill="#b3b1ad">Searching</text>
      <text x="150" y="310" fill="#fc9867">267</text>
      <text x="180" y="310" fill="#b3b1ad">sessions for:</text>
      <text x="285" y="310" fill="#78dce8">authentication</text>

      <text x="40" y="330" fill="#5c6370">════════════════════════════════════════════════════════════════════════</text>

      <text x="40" y="355" fill="#b3b1ad">Found</text>
      <text x="85" y="355" fill="#fc9867">8</text>
      <text x="100" y="355" fill="#b3b1ad">matching sessions:</text>

      <!-- Search results table -->
      <text x="40" y="385" fill="#5c6370" xml:space="preserve">┌────┬─────────────────────────────────────┬────────────┬──────────┬──────┐</text>

      <text x="40" y="403" fill="#5c6370">│ </text>
      <text x="55" y="403" fill="#ab9df2">#</text>
      <text x="80" y="403" fill="#5c6370">│ </text>
      <text x="95" y="403" fill="#ab9df2">Title</text>
      <text x="415" y="403" fill="#5c6370">│ </text>
      <text x="430" y="403" fill="#ab9df2">Date</text>
      <text x="530" y="403" fill="#5c6370">│ </text>
      <text x="545" y="403" fill="#ab9df2">Provider</text>
      <text x="630" y="403" fill="#5c6370">│ </text>
      <text x="645" y="403" fill="#ab9df2">Msgs</text>
      <text x="685" y="403" fill="#5c6370">│</text>

      <text x="40" y="421" fill="#5c6370" xml:space="preserve">├────┼─────────────────────────────────────┼────────────┼──────────┼──────┤</text>

      <text x="40" y="439" fill="#5c6370">│ </text>
      <text x="60" y="439" fill="#78dce8">1</text>
      <text x="80" y="439" fill="#5c6370">│ </text>
      <text x="95" y="439" fill="#b3b1ad">Implementing JWT authentication</text>
      <text x="415" y="439" fill="#5c6370">│ </text>
      <text x="430" y="439" fill="#b3b1ad">2025-07-15</text>
      <text x="530" y="439" fill="#5c6370">│ </text>
      <text x="545" y="439" fill="#a9dc76">Copilot</text>
      <text x="630" y="439" fill="#5c6370">│ </text>
      <text x="655" y="439" fill="#fc9867">42</text>
      <text x="685" y="439" fill="#5c6370">│</text>

      <text x="40" y="457" fill="#5c6370">│ </text>
      <text x="60" y="457" fill="#78dce8">2</text>
      <text x="80" y="457" fill="#5c6370">│ </text>
      <text x="95" y="457" fill="#b3b1ad">OAuth2 flow for API gateway</text>
      <text x="415" y="457" fill="#5c6370">│ </text>
      <text x="430" y="457" fill="#b3b1ad">2025-07-10</text>
      <text x="530" y="457" fill="#5c6370">│ </text>
      <text x="545" y="457" fill="#a9dc76">Cursor</text>
      <text x="630" y="457" fill="#5c6370">│ </text>
      <text x="655" y="457" fill="#fc9867">18</text>
      <text x="685" y="457" fill="#5c6370">│</text>

      <text x="40" y="475" fill="#5c6370">│ </text>
      <text x="60" y="475" fill="#78dce8">3</text>
      <text x="80" y="475" fill="#5c6370">│ </text>
      <text x="95" y="475" fill="#b3b1ad">Session token refresh logic</text>
      <text x="415" y="475" fill="#5c6370">│ </text>
      <text x="430" y="475" fill="#b3b1ad">2025-07-02</text>
      <text x="530" y="475" fill="#5c6370">│ </text>
      <text x="545" y="475" fill="#a9dc76">Ollama</text>
      <text x="630" y="475" fill="#5c6370">│ </text>
      <text x="655" y="475" fill="#fc9867">23</text>
      <text x="685" y="475" fill="#5c6370">│</text>

      <text x="40" y="493" fill="#5c6370" xml:space="preserve">└────┴─────────────────────────────────────┴────────────┴──────────┴──────┘</text>

      <text x="40" y="520" fill="#5c6370">... and 5 more results</text>

      <text x="40" y="550" fill="#78dce8">[i]</text>
      <text x="70" y="550" fill="#b3b1ad">Use</text>
      <text x="100" y="550" fill="#78dce8">chasm export &lt;session-id&gt;</text>
      <text x="315" y="550" fill="#b3b1ad">to export any session</text>

      <!-- Next prompt -->
      <text x="40" y="590" fill="#82aaff">❯</text>
      <rect x="60" y="577" width="10" height="16" fill="#82aaff" opacity="0.7">
        <animate attributeName="opacity" values="0.7;0;0.7" dur="1.2s" repeatCount="indefinite"/>
      </rect>
    </g>
  </g>
</svg>
